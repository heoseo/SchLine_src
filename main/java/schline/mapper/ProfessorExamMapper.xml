<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="schline.SchlineDAOImpl">
	<!-- 해당 아이디의 과목으로 출제한 문제리스트 가져오기 -->
	<select id="pexamList" resultType="schline.ExamDTO">
		SELECT * FROM question_tb WHERE exam_idx in
		(SELECT exam_idx FROM exam_tb WHERE subject_idx =
    	(SELECT subject_idx FROM subject_tb WHERE user_id=#{0}));
	</select>
	<!-- 객관식문제의 문항번호와 내용 가져오기 -->
	<select id="questionlist" resultType="schline.ExamDTO">
		SELECT * FROM questionlist_tb WHERE question_idx IN
		(SELECT question_idx FROM question_tb WHERE exam_idx IN
		(SELECT exam_idx FROM exam_tb WHERE subject_idx =
    	(SELECT subject_idx FROM subject_tb WHERE user_id=#{0})));
	</select>
</mapper>